{"version":3,"sources":["request.js"],"names":["RechabilityRequest","getClusters","request","method","GET","shouldRefreshAccessToken","api","API","CALLIOPEDISCOVERY","resource","RESOURCE","CLUSTERS","then","res","clusters","body","console","info","remoteSDPForClusters","localSDPList","POST","REACHABILITY","offers","StatelessSparkPlugin"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAEA;;;;AAEA;;;IAGMA,kB;;;;;;;;;;;;;;oOAKNC,W,GAAc;AAAA,aAAM,MAAKC,OAAL,CAAa;AAC/BC,gBAAQC,cADuB;AAE/BC,kCAA0B,KAFK;AAG/BC,aAAKC,eAAIC,iBAHsB;AAI/BC,kBAAUC,oBAASC;AAJY,OAAb,EAMjBC,IANiB,CAMZ,UAACC,GAAD,EAAS;AAAA,YACNC,QADM,GACMD,IAAIE,IADV,CACND,QADM;;AAEbE,gBAAQC,IAAR,8BAAwC,yBAAeH,QAAf,CAAxC;AACA,eAAO,oBAAYA,QAAZ,CAAP;AACD,OAViB,CAAN;AAAA,K,QAiBdI,oB,GAAuB,UAACC,YAAD;AAAA,aAAkB,MAAKjB,OAAL,CAAa;AACpDC,gBAAQiB,eAD4C;AAEpDf,kCAA0B,KAF0B;AAGpDC,aAAKC,eAAIC,iBAH2C;AAIpDC,kBAAUC,oBAASW,YAJiC;AAKpDN,cAAM,EAACO,QAAQH,YAAT;AAL8C,OAAb,EAOtCP,IAPsC,CAOjC,UAACC,GAAD,EAAS;AACbG,gBAAQC,IAAR,CAAa,+BAAb;AACA,eAAOJ,IAAIE,IAAX;AACD,OAVsC,CAAlB;AAAA,K;;AArBrB;;;;;;AAgBA;;;;;;;;EAjB+BQ,+B;;kBAmClBvB,kB","file":"request.js","sourcesContent":["import {StatelessSparkPlugin} from '@ciscospark/spark-core';\n\nimport {POST, GET, RESOURCE, API} from '../constants';\n\n/**\n * @class RechabilityRequest\n */\nclass RechabilityRequest extends StatelessSparkPlugin {\n  /**\n   * gets the cluster information\n   * @returns {Promise}\n   */\ngetClusters = () => this.request({\n  method: GET,\n  shouldRefreshAccessToken: false,\n  api: API.CALLIOPEDISCOVERY,\n  resource: RESOURCE.CLUSTERS\n})\n  .then((res) => {\n    const {clusters} = res.body;\n    console.info(`get clusters successful:${JSON.stringify(clusters)}`);\n    return Object.keys(clusters);\n  });\n\n  /**\n   * gets remote SDP For Clusters\n   * @param {Object} localSDPList localSDPs for the cluster\n   * @returns {Object}\n   */\nremoteSDPForClusters = (localSDPList) => this.request({\n  method: POST,\n  shouldRefreshAccessToken: false,\n  api: API.CALLIOPEDISCOVERY,\n  resource: RESOURCE.REACHABILITY,\n  body: {offers: localSDPList}\n})\n  .then((res) => {\n    console.info('Remote SDPs got succcessfully');\n    return res.body;\n  });\n}\n\nexport default RechabilityRequest;\n"]}